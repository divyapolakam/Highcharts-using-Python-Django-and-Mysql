<html>
<head>
      <title>Bar Graph</title>
      <script src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
      </script>
      <script src = "https://code.highcharts.com/highcharts.js"></script> 
   </head>
   
   <body>
      <div id = "container" style = "width: 750px; height: 500px; margin: 0 auto"></div>
      <script language = "JavaScript">
     Highcharts.chart('container', {
     chart: {
        type: 'bar'
    },
    title: {
        text: 'Happiest Countries in the World'
    },
    subtitle: {
        text: 'Source: <a href="https://worldpopulationreview.com/country-rankings/happiest-countries-in-the-world">worldpopulationreview.com</a>'
    },
    xAxis: {
        categories: [
            {% for entry in dataset %}'{{entry.country}}'{% if not forloop.last %},{%endif %} {%endfor %}
        ],
        title: {
            text: 'Countries',
           
        }
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Happiness Score',
     
        },
        labels: {
            overflow: 'justify'
        }
    },
    tooltip: {
        valueSuffix: ' millions'
    },
    plotOptions: {
        bar: {
            dataLabels: {
                enabled: true
            }
        }
    },
    legend: {
        layout: 'vertical',
        align: 'right',
        verticalAlign: 'top',
        x: -40,
        y: 80,
        floating: true,
        borderWidth: 1,
        backgroundColor:
            Highcharts.defaultOptions.legend.backgroundColor || '#FFFFFF',
        shadow: true
    },
    credits: {
        enabled: false
    },
    series: [{
        name: 'Year 2021',
        data: [{% for entry in dataset %}{{ entry.year2021}}{% if not forloop.last %}, {% endif %}{% endfor %}]
    },
    {
        name: 'Year 2020',
        data: [{% for entry in dataset %}{{ entry.year2020}}{% if not forloop.last %}, {% endif %}{% endfor %}]
    }]
});
</script>
<body>
</html>
